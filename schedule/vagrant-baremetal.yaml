name:           vagrant-bm
description:    >
    Tests for vagrant, vagrant plugins and the official vagrant boxes
vars:
    QEMUCPU: host
schedule:
    - '{{boot_to_desktop}}'
    - '{{add_box_virtualbox}}'
    - virtualization/vagrant/add_box_libvirt
    - virtualization/vagrant/sshfs
    - virtualization/vagrant/boxes/tumbleweed
    - shutdown/shutdown

conditional_schedule:
    add_box_virtualbox:
        ARCH:
            x86_64:
                - virtualization/vagrant/add_box_virtualbox
    boot_to_desktop:
        BACKEND:
            qemu:
                - boot/boot_to_desktop
            ipmi:
                - boot/boot_from_pxe
                - installation/welcome
                - installation/online_repos
                - installation/installation_mode
                - installation/logpackages
                - installation/system_role
                - installation/partitioning
                - installation/partitioning_finish
                - installation/installer_timezone
                - installation/user_settings
                - installation/resolve_dependency_issues
                - installation/installation_overview
                - installation/start_install
                - installation/await_install
                - installation/reboot_after_installation
                - boot/reconnect_mgmt_console
                - installation/first_boot
                - update/zypper_dup
                - boot/reconnect_mgmt_console
